<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Video Player Landscape Pro</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        body {
            background-color: #0f0f0f;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }

        .ad-top-wrapper {
            width: 100%;
            padding: 10px 0;
            display: flex;
            justify-content: center;
            background-color: #000;
            border-bottom: 1px solid #222;
        }

        input[type=range] {
            -webkit-appearance: none;
            background: transparent;
        }
        input[type=range]:focus { outline: none; }
        
        /* YouTube Red Seek Bar */
        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            height: 13px;
            width: 13px;
            border-radius: 50%;
            background: #ff0000;
            cursor: pointer;
            transition: transform 0.1s ease-in-out;
        }
        .group:hover input[type=range]::-webkit-slider-thumb {
            transform: scale(1.2);
        }

        .vol-slider::-webkit-slider-runnable-track {
            height: 3px;
            background: rgba(255, 255, 255, 0.2);
        }
        .vol-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            height: 12px;
            width: 12px;
            background: white;
            border-radius: 50%;
            margin-top: -4.5px;
        }

        .controls-gradient {
            background: linear-gradient(to top, rgba(0,0,0,0.9) 0%, rgba(0,0,0,0.4) 50%, transparent 100%);
        }

        /* Anti-Pause pada Video */
        #video { pointer-events: none; }

        /* Fullscreen Landscape Helper */
        #playerContainer:fullscreen {
            width: 100vw;
            height: 100vh;
            max-width: none;
            border-radius: 0;
        }
    </style>
</head>
<body>

    <!-- Iklan di Atas Player -->
    <div class="ad-top-wrapper">
        <div style="width: 320px; height: 50px;">
            <script type="text/javascript">
                atOptions = {
                    'key' : 'baa0afb18e2e70c00e4c1406e4824e4b',
                    'format' : 'iframe',
                    'height' : 50,
                    'width' : 320,
                    'params' : {}
                };
            </script>
            <script type="text/javascript" src="https://behindcanary.com/baa0afb18e2e70c00e4c1406e4824e4b/invoke.js"></script>
        </div>
    </div>

    <!-- Area Player -->
    <div class="flex-1 w-full flex items-center justify-center p-2 sm:p-4">
        <div id="playerContainer" class="relative w-full max-w-[1280px] aspect-video group bg-black overflow-hidden shadow-2xl rounded-lg">
            
            <!-- Video -->
            <video 
                id="video" 
                class="w-full h-full object-contain"
                autoplay 
                muted 
                playsinline 
                loop
            >
                <source src="https://video.twimg.com/amplify_video/1941659174250713089/vid/avc1/1280x720/u6lIx2b3Nj9zCpMJ.mp4?tag=21" type="video/mp4">
            </video>

            <!-- Layer Anti-Pause -->
            <div id="interactionGuard" class="absolute inset-0 z-10"></div>

            <!-- Tombol Unduh -->
            <a 
                href="https://video.twimg.com/amplify_video/1941659174250713089/vid/avc1/1280x720/u6lIx2b3Nj9zCpMJ.mp4?tag=21" 
                target="_blank" 
                class="absolute top-4 right-4 z-[60] flex items-center gap-2 bg-black/50 backdrop-blur-md border border-white/20 text-white px-4 py-2 rounded-full text-xs sm:text-sm font-medium transition-all hover:bg-white/20"
            >
                <i data-lucide="download" class="w-4 h-4"></i>
                <span>Unduh</span>
            </a>

            <!-- Kontrol (YouTube Style) -->
            <div id="controls" class="absolute bottom-0 left-0 right-0 px-4 pb-3 pt-12 controls-gradient transition-opacity duration-300 opacity-0 group-hover:opacity-100 z-50">
                
                <!-- Progress Bar -->
                <div class="relative w-full h-1 mb-4 flex items-center">
                    <div class="absolute w-full h-1 bg-white/20 rounded-full"></div>
                    <div id="progressBar" class="absolute h-1 bg-red-600 rounded-full" style="width: 0%"></div>
                    <input id="seekBar" type="range" min="0" max="100" value="0" step="0.1" class="absolute w-full h-4 opacity-0 cursor-pointer z-10">
                </div>

                <div class="flex items-center justify-between">
                    <div class="flex items-center gap-3 sm:gap-5">
                        <button id="playBtn" class="text-white">
                            <i id="playIcon" data-lucide="pause" class="w-6 h-6 fill-white"></i>
                        </button>

                        <div class="flex items-center group/vol gap-2">
                            <button id="muteBtn" class="text-white">
                                <i id="volIcon" data-lucide="volume-x" class="w-6 h-6"></i>
                            </button>
                            <input id="volSlider" type="range" min="0" max="1" step="0.05" value="0" class="vol-slider w-0 group-hover/vol:w-20 transition-all duration-200 cursor-pointer">
                        </div>

                        <div class="text-white text-[11px] sm:text-xs font-light">
                            <span id="currTime">0:00</span> / <span id="durTime">00:00</span>
                        </div>
                    </div>

                    <div class="flex items-center">
                        <button id="fsBtn" class="text-white p-1">
                            <i id="fsIcon" data-lucide="maximize" class="w-6 h-6"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        lucide.createIcons();

        const video = document.getElementById('video');
        const container = document.getElementById('playerContainer');
        const playBtn = document.getElementById('playBtn');
        const muteBtn = document.getElementById('muteBtn');
        const volSlider = document.getElementById('volSlider');
        const volIcon = document.getElementById('volIcon');
        const seekBar = document.getElementById('seekBar');
        const progressBar = document.getElementById('progressBar');
        const currTimeText = document.getElementById('currTime');
        const durTimeText = document.getElementById('durTime');
        const fsBtn = document.getElementById('fsBtn');
        const controls = document.getElementById('controls');
        const interactionGuard = document.getElementById('interactionGuard');

        let hideTimeout;

        function formatTime(s) {
            if (isNaN(s)) return "0:00";
            const m = Math.floor(s / 60);
            const sec = Math.floor(s % 60);
            return `${m}:${sec.toString().padStart(2, '0')}`;
        }

        function togglePlay() {
            video.paused ? video.play() : video.pause();
            const icon = video.paused ? 'play' : 'pause';
            document.getElementById('playIcon').setAttribute('data-lucide', icon);
            lucide.createIcons();
        }

        playBtn.onclick = (e) => { e.stopPropagation(); togglePlay(); };

        video.ontimeupdate = () => {
            const p = (video.currentTime / video.duration) * 100;
            seekBar.value = p || 0;
            progressBar.style.width = (p || 0) + '%';
            currTimeText.textContent = formatTime(video.currentTime);
        };

        video.onloadedmetadata = () => durTimeText.textContent = formatTime(video.duration);

        seekBar.oninput = () => video.currentTime = (seekBar.value / 100) * video.duration;

        muteBtn.onclick = (e) => {
            e.stopPropagation();
            video.muted = !video.muted;
            updateVolUI();
        };

        volSlider.oninput = () => {
            video.volume = volSlider.value;
            video.muted = (video.volume === 0);
            updateVolUI();
        };

        function updateVolUI() {
            let icon = video.muted || video.volume === 0 ? 'volume-x' : (video.volume < 0.5 ? 'volume-1' : 'volume-2');
            volIcon.setAttribute('data-lucide', icon);
            volSlider.value = video.muted ? 0 : video.volume;
            lucide.createIcons();
        }

        // --- FULLSCREEN & LANDSCAPE LOGIC ---
        async function toggleFullscreen() {
            if (!document.fullscreenElement) {
                try {
                    if (container.requestFullscreen) {
                        await container.requestFullscreen();
                    } else if (container.webkitRequestFullscreen) {
                        await container.webkitRequestFullscreen();
                    }

                    // Paksa landscape jika didukung (terutama di Android Chrome)
                    if (screen.orientation && screen.orientation.lock) {
                        await screen.orientation.lock('landscape').catch(e => console.log("Orientation lock ignored"));
                    }
                } catch (err) {
                    console.error("Fullscreen error:", err);
                }
            } else {
                if (document.exitFullscreen) {
                    document.exitFullscreen();
                }
                // Lepas kunci orientasi jika ada
                if (screen.orientation && screen.orientation.unlock) {
                    screen.orientation.unlock();
                }
            }
        }

        fsBtn.onclick = (e) => { e.stopPropagation(); toggleFullscreen(); };

        document.addEventListener('fullscreenchange', () => {
            const icon = document.fullscreenElement ? 'minimize' : 'maximize';
            document.getElementById('fsIcon').setAttribute('data-lucide', icon);
            lucide.createIcons();
        });

        // Kontrol Auto-hide
        function showControls() {
            controls.style.opacity = '1';
            container.style.cursor = 'default';
            clearTimeout(hideTimeout);
            hideTimeout = setTimeout(() => {
                if (!video.paused) {
                    controls.style.opacity = '0';
                    container.style.cursor = 'none';
                }
            }, 3000);
        }

        container.onmousemove = showControls;
        container.ontouchstart = showControls;
        interactionGuard.onclick = (e) => { e.preventDefault(); showControls(); };

        window.onload = () => { updateVolUI(); };
    </script>
</body>
</html>
