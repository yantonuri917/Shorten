<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Video Player</title>

<style>
*{box-sizing:border-box}
body{
  margin:0;
  background:#000;
  font-family:Arial;
}

/* ===== TOP ADS ===== */
#topAd{
  position:fixed;
  top:0;
  left:50%;
  transform:translateX(-50%);
  width:320px;
  height:50px;
  z-index:5000;
  display:flex;
  align-items:center;
  justify-content:center;
}

/* VIDEO */
#videoWrapper{
  position:fixed;
  inset:0;
  background:#000;
  padding-top:60px; /* biar ga ketutup iklan atas */
}
video,iframe{
  width:100%;
  height:100%;
  object-fit:contain;
  background:#000;
}

/* CENTER PLAY */
#centerPlay{
  position:fixed;
  inset:0;
  z-index:3000;
  background:rgba(0,0,0,.45);
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
}
#centerPlay svg{
  width:90px;
  height:90px;
  fill:#fff;
  background:rgba(0,0,0,.7);
  border-radius:50%;
  padding:24px;
}

/* CONTROLS */
#controls{
  position:fixed;
  bottom:12px;
  left:12px;
  right:12px;
  height:56px;
  background:rgba(0,0,0,.5);
  display:flex;
  align-items:center;
  gap:12px;
  padding:10px;
  border-radius:12px;
  z-index:10;
}
#playBtn{
  background:none;
  border:1px solid #fff;
  color:#fff;
  width:44px;
  height:44px;
}
#progress{
  flex:1;
  height:6px;
  background:#333;
  border-radius:6px;
  cursor:pointer;
}
#bar{
  height:100%;
  width:0;
  background:#ff4747;
}
#time{
  color:#fff;
  font-size:13px;
}

/* ===== FULLSCREEN AD ===== */
#adOverlay{
  position:fixed;
  inset:0;
  background:#000;
  z-index:4000;
  display:none;
}

#adBox{
  position:absolute;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:16px;
  width:100%;
}

#adContent{
  display:flex;
  align-items:center;
  justify-content:center;
  width:100%;
  min-height:200px;
}

#adContent iframe,
#adContent img,
#adContent div{
  max-width:100%!important;
  max-height:100%!important;
  margin:auto!important;
}

#adContent > div[id^="container"]{
  display:flex!important;
  align-items:center!important;
  justify-content:center!important;
  width:100%!important;
}

/* SKIP */
#skipBtn{
  padding:10px 18px;
  background:rgba(0,0,0,.6);
  color:#fff;
  border-radius:6px;
  font-size:14px;
  opacity:.6;
  cursor:not-allowed;
}
#skipBtn.active{
  background:#ff4747;
  opacity:1;
  cursor:pointer;
}
</style>
</head>

<body>

<!-- ===== TOP BANNER AD ===== -->
<div id="topAd">
  <script>
    atOptions = {
      'key' : 'baa0afb18e2e70c00e4c1406e4824e4b',
      'format' : 'iframe',
      'height' : 50,
      'width' : 320,
      'params' : {}
    };
  </script>
  <script src="https://heroptionssideway.com/baa0afb18e2e70c00e4c1406e4824e4b/invoke.js"></script>
</div>

<!-- VIDEO -->
<div id="videoWrapper">
  <video id="player" playsinline preload="metadata"></video>
</div>

<!-- PLAY TENGAH -->
<div id="centerPlay">
  <svg viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
</div>

<!-- CONTROLS -->
<div id="controls">
  <button id="playBtn">â–¶</button>
  <div id="progress"><div id="bar"></div></div>
  <div id="time">0:00 / 0:00</div>
</div>

<!-- FULLSCREEN AD -->
<div id="adOverlay">
  <div id="adBox">
    <div id="adContent">
      <script async data-cfasync="false"
        src="https://heroptionssideway.com/122b006ae61ef549a738f7e587027d5a/invoke.js"></script>
      <div id="container-122b006ae61ef549a738f7e587027d5a"></div>
    </div>
    <div id="skipBtn">Skip in <span id="count">5</span>s</div>
  </div>
</div>

<script>
const player = document.getElementById('player');
const wrapper = document.getElementById('videoWrapper');
const centerPlay = document.getElementById('centerPlay');
const adOverlay = document.getElementById('adOverlay');
const skipBtn = document.getElementById('skipBtn');
const count = document.getElementById('count');
const playBtn = document.getElementById('playBtn');
const progress = document.getElementById('progress');
const bar = document.getElementById('bar');
const time = document.getElementById('time');

const videoUrl = new URLSearchParams(location.search).get('url');
let isIframe = false;

/* SOURCE VIDEO (TANPA TWIMG) */
if(videoUrl){
  if(videoUrl.includes('videy.co/v/')){
    const id = videoUrl.split('/v/')[1].split('?')[0];
    player.src = `https://cdn.videy.co/${id}.mp4`;

  }else if(videoUrl.includes('app.videas.fr/embed')){
    isIframe = true;
    wrapper.innerHTML = `<iframe src="${videoUrl}" frameborder="0" allowfullscreen></iframe>`;
    document.getElementById('controls').style.display='none';

  }else{
    player.src = videoUrl;
  }
}

/* PLAY FLOW */
centerPlay.onclick = ()=>{
  centerPlay.style.display='none';
  adOverlay.style.display='block';
  startAd();
};

function startAd(){
  let sec = 5;
  count.textContent = sec;
  const t = setInterval(()=>{
    sec--;
    count.textContent = sec;
    if(sec <= 0){
      clearInterval(t);
      skipBtn.textContent = 'Skip Ad';
      skipBtn.classList.add('active');
      skipBtn.onclick = ()=>{
        adOverlay.remove();
        if(!isIframe) player.play();
      };
    }
  },1000);
}

/* CONTROLS */
if(!isIframe){
  playBtn.onclick = ()=> player.paused ? player.play() : player.pause();

  player.ontimeupdate = ()=>{
    bar.style.width = (player.currentTime / player.duration * 100 || 0) + '%';
    time.textContent = f(player.currentTime)+' / '+f(player.duration);
  };

  progress.onclick = e=>{
    const r = progress.getBoundingClientRect();
    player.currentTime = ((e.clientX - r.left) / r.width) * player.duration;
  };
}

function f(s){
  if(!s || isNaN(s)) return '0:00';
  return Math.floor(s/60)+':'+String(Math.floor(s%60)).padStart(2,'0');
}
</script>

<!-- Histats -->
<script type="text/javascript">
var _Hasync=_Hasync||[];
_Hasync.push(['Histats.start','1,4978236,4,0,0,0,00000000']);
_Hasync.push(['Histats.fasi','1']);
_Hasync.push(['Histats.track_hits','']);
(function(){
  var hs=document.createElement('script');hs.type='text/javascript';hs.async=true;
  hs.src=('//s10.histats.com/js15_as.js');
  (document.head||document.body).appendChild(hs);
})();
</script>
<noscript><a href="/" target="_blank"><img src="//sstatic1.histats.com/0.gif?4978236&101" alt="hit counter" border="0"></a>
  </noscript>

  <script async="async" data-cfasync="false" src="https://heroptionssideway.com/122b006ae61ef549a738f7e587027d5a/invoke.js"></script>
<div id="container-122b006ae61ef549a738f7e587027d5a"></div>
  
  </body>
</html>
